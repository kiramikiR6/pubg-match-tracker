<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>PUBG ë§¤ì¹˜ íŠ¸ë˜ì»¤</title>

<style>
body {
  background:#111;
  color:#eee;
  font-family:Arial, sans-serif;
  margin:0;
  padding:8px;
}

h1 {
  font-size:18px;
  text-align:center;
  margin:6px 0 10px;
}

/* ìƒë‹¨ ì»¨íŠ¸ë¡¤ */
#controls {
  text-align:center;
  margin-bottom:10px;
}

#controls button {
  padding:6px 14px;
  font-size:13px;
  border:none;
  border-radius:6px;
  cursor:pointer;
  background:#444;
  color:#fff;
}
#controls button:hover {
  background:#666;
}

/* íŒ€ ê·¸ë¦¬ë“œ */
#teams {
  display:grid;
  grid-template-columns:repeat(4, 1fr);
  gap:10px;
}

/* íŒ€ ì¹´ë“œ */
.team {
  border:2px solid #444;
  padding:10px;
  background:#1a1a1a;
  min-height:180px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
}

.team.selected {
  border-color:#3498db;
  box-shadow:0 0 8px #3498db;
}

.team.eliminated {
  background:#2a0000;
  border-color:#e74c3c;
}

.team h3 {
  text-align:center;
  margin:4px 0 6px;
  font-size:15px;
}

/* ë©¤ë²„ */
.members {
  display:grid;
  grid-template-columns:repeat(4, 1fr);
  gap:8px;
}

.member {
  padding:14px 0;
  border:none;
  border-radius:6px;
  cursor:pointer;
  font-size:13px;
  color:#fff;
}

.alive { background:#2ecc71; }
.down  { background:#f1c40f; }
.dead  { background:#e74c3c; }

.team-status {
  text-align:center;
  margin-top:8px;
  font-size:13px;
}

/* íŒ€ë³„ ì´ˆê¸°í™” */
.team-reset {
  margin-top:6px;
  padding:4px;
  font-size:12px;
  border:none;
  border-radius:6px;
  background:#333;
  color:#ccc;
  cursor:pointer;
}
.team-reset:hover {
  background:#555;
  color:#fff;
}

/* ===== ë‹¨ì¶•í‚¤ íŒ¨ë„ (ìš°ì¸¡ ìƒë‹¨) ===== */
#hotkeys {
  position:fixed;
  right:10px;
  top:10px;
  background:rgba(0,0,0,0.7);
  border:1px solid #444;
  border-radius:8px;
  padding:10px 12px;
  font-size:12px;
  line-height:1.5;
  width:210px;
  z-index:1000;
}

#hotkeys h4 {
  margin:0 0 6px;
  font-size:13px;
  text-align:center;
}

#hotkeys span {
  color:#6ab0ff;
  font-weight:bold;
}
</style>
</head>

<body>

<h1>ğŸ PUBG ë§¤ì¹˜ íŠ¸ë˜ì»¤</h1>

<div id="controls">
  <button onclick="resetAll()">ğŸ”„ ì „ì²´ ì´ˆê¸°í™”</button>
</div>

<div id="teams"></div>

<!-- ë‹¨ì¶•í‚¤ ì•ˆë‚´ -->
<div id="hotkeys">
  <h4>âŒ¨ï¸ ë‹¨ì¶•í‚¤</h4>
  <div><span>Shift + 1~9</span> : 1~9íŒ€</div>
  <div><span>Shift + Q W E</span> : 10~12íŒ€</div>
  <div><span>Shift + R A S D</span> : 13~16íŒ€</div>
  <hr style="border:0;border-top:1px solid #333;margin:6px 0;">
  <div><span>1~4</span> : ë©¤ë²„ ìƒíƒœ ë³€ê²½</div>
  <div><span>R</span> : ì„ íƒ íŒ€ ì´ˆê¸°í™”</div>
</div>

<script>
const STATES = ["alive","down","dead"];
const teams = [];
let selectedTeam = 0;

// íŒ€ ìƒì„±
for(let t=1; t<=16; t++){
  const team = document.createElement("div");
  team.className = "team";

  const title = document.createElement("h3");
  title.innerText = `íŒ€ ${t}`;
  team.appendChild(title);

  const members = document.createElement("div");
  members.className = "members";

  for(let m=1; m<=4; m++){
    const btn = document.createElement("button");
    btn.className = "member alive";
    btn.innerText = `P${m}`;
    btn.dataset.state = 0;

    btn.onclick = () => {
      cycle(btn);
      update(team);
    };

    members.appendChild(btn);
  }

  const status = document.createElement("div");
  status.className = "team-status";
  status.innerText = "ìƒì¡´ ì¸ì›: 4";

  const resetBtn = document.createElement("button");
  resetBtn.className = "team-reset";
  resetBtn.innerText = "â™»ï¸ íŒ€ ì´ˆê¸°í™”";
  resetBtn.onclick = () => resetTeam(team);

  team.appendChild(members);
  team.appendChild(status);
  team.appendChild(resetBtn);

  document.getElementById("teams").appendChild(team);
  teams.push(team);
}

selectTeam(0);

// ìƒíƒœ ë³€ê²½
function cycle(btn){
  let s = (+btn.dataset.state + 1) % 3;
  btn.dataset.state = s;
  btn.className = `member ${STATES[s]}`;
}

// ìƒíƒœ ì—…ë°ì´íŠ¸
function update(team){
  const members = team.querySelectorAll(".member");
  let alive = 0;
  members.forEach(b => {
    if(!b.classList.contains("dead")) alive++;
  });

  const status = team.querySelector(".team-status");
  status.innerText = `ìƒì¡´ ì¸ì›: ${alive}`;

  if(alive === 0){
    status.innerText += " âŒ ì „ë©¸";
    team.classList.add("eliminated");
  } else {
    team.classList.remove("eliminated");
  }
}

// íŒ€ ì„ íƒ
function selectTeam(i){
  teams.forEach(t => t.classList.remove("selected"));
  selectedTeam = i;
  teams[i].classList.add("selected");
}

// íŒ€ ì´ˆê¸°í™”
function resetTeam(team){
  team.querySelectorAll(".member").forEach(b=>{
    b.dataset.state = 0;
    b.className = "member alive";
  });
  update(team);
}

// ì „ì²´ ì´ˆê¸°í™”
function resetAll(){
  teams.forEach(team => resetTeam(team));
}

// ë‹¨ì¶•í‚¤
document.addEventListener("keydown", e => {
  if(e.shiftKey){
    const map = {
      "1":0,"2":1,"3":2,"4":3,"5":4,"6":5,"7":6,"8":7,
      "9":8,"q":9,"w":10,"e":11,"r":12,
      "a":13,"s":14,"d":15
    };
    const key = e.key.toLowerCase();
    if(map[key] !== undefined){
      selectTeam(map[key]);
    }
  }

  if(["1","2","3","4"].includes(e.key)){
    const btn = teams[selectedTeam]
      .querySelectorAll(".member")[+e.key-1];
    cycle(btn);
    update(teams[selectedTeam]);
  }

  if(e.key.toLowerCase() === "r"){
    resetTeam(teams[selectedTeam]);
  }
});
</script>

</body>
</html>
